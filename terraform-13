provider "aws" {
region = "us-east-1"
}

resource "aws_instance" "one" {
ami = "ami-0ddc798b3f1a5117e"
instance_type = "t2.micro"
key_name = "n"
vpc_security_group_ids = ["sg-0536ec94332b801ee"]
tags = {
Name = "masthan-server"
}

provisioner "remote-exec" {
inline = [
"sudo yum update -y",
"sudo yum install git maven tree httpd -y",
"touch file1"
]

connection {
type = "ssh"
user = "ec2-user"
private_key = file("~/.ssh/id_rsa")
host = self.public_ip
}
}
}
